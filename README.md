# Интерпретатор языка Guu

[Демонстрация](http://cromtus.ru/guu)

Задание для заявки на стажировку в JetBrains.

**<формулировка>**

Программа на Guu состоит из набора процедур. Каждая процедура начинается со строки `sub <subname>` и завершается объявлением другой процедуры (или концом файла, если процедура в файле последняя). Исполнение начинается с `sub main`.

Тело процедуры – набор инструкций, каждая из которых находится на отдельной строке. В начале строки могут встречаться незначимые символы табуляции или пробелы. Пустые строки игнорируются. Комментариев в Guu нет.

В Guu есть лишь три оператора:
- `set <varname> <new value>` – задание нового целочисленного значения переменной.
- `call <subname>` – вызов процедуры. Вызовы могут быть рекурсивными.
- `print <varname>` – печать значения переменной на экран.

Переменные в Guu имеют глобальную область видимости. Программа ниже выведет на экран строку `a = 2`.

```
sub main
    set a 1
    call foo
    print a

sub foo
    set a 2
```

А вот простейшая программа с бесконечной рекурсией:

```
sub main
   call main
```

Необходимо написать пошаговый интерпретатор для Guu. При его запуске отладчик должен останавливаться на строчке с первой инструкцией в `sub main` и ждать команд от пользователя. Минимально необходимый набор команд отладчика:

- *step into*, отладчик заходит внутрь `call <subname>`.
- *step over*, отладчик не заходит внутрь `call`.
- Печать stack trace исполнения с номерами строк, начиная с `main`.
- Печать значений всех объявлённых переменных.

**</формулировка>**
